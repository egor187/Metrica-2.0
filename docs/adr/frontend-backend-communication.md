# Коммуникация фронтенда с бекендом

## Проблема

Приложение получает запрос от пользователя, рендерит штмл на сервере и возвращает ее. В современных приложениях
пользователь ожидает реакции интерфейса без перезагрузки страницы (SPA - single page application). Сейчас такой
возможности делать мелкие быстрые операции  (обновить имя игры, добавить новую запись, переключить фильтр) нет, и на
каждое действие требуется перезагрузка страницы.

## Решение

[Sockpuppet](https://sockpuppet.argpar.se/) соединяет фронтенд и бекенд через Вебсокеты, и в ответ на запрос
пользователя возвращает _кусочки_ отрендеренного штмл, которые фреймворк встраивает в нужные места страницы. Вся логика
о том, каким будет шмтл, остается на бекенде, а фронтенд просто вызывает какие-то вьюхи в ответ на действия
пользователя.

В результате такого подхода остается удобство и скорость работы с штмл со стороны Джанго, но добавляется возможность
динамических обновлений страницы по частям. Бизнес-логика остается на бекенде без традиционного фронтендового
переусложнения. В комплекте идет библиотека [Stimulus](https://stimulus.hotwire.dev), которой должно быть достаточно для оживления интерфейса.

## Рассмотренные альтернативы

- React, Vue, Angular - приложение маленькое, поэтому интегрировать полноценный фронтенд-фреймворк будет избыточно:
  усложнится сборка проекта, раутинг, коммуникация.
- [Svelte](https://svelte.dev) - легковесный, но это тоже SPA-фреймвок, поэтому большое подходит для работы с АПИ и ДРФ,
  а не рендеренными Джанго-страницами.
- [Alpine](https://github.com/alpinejs/alpine) - минимальная библиотека для работы с интерфейсами, но не решает проблемы
  коммуникации с сервером, и требует ДРФ.
